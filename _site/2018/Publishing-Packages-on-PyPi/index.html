<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title> Publishing Packages on PyPi | Muhammad </title> <meta name="description" content=" In this post we learn how to publish python packages on PyPi "> <meta name="keywords" content="PyPi python python3 github opensource"> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Social: Facebook / Open Graph --> <meta property="og:type" content="article"> <meta property="article:author" content="Muhammad Raza"> <meta property="article:section" content=""> <meta property="article:tag" content="PyPi python python3 github opensource"> <meta property="article:published_time" content="2018-12-12 00:00:00 -0500"> <meta property="og:url" content="http://localhost:4000/2018/Publishing-Packages-on-PyPi/"> <meta property="og:title" content=" Publishing Packages on PyPi | Muhammad "> <meta property="og:image" content="http://localhost:4000"> <meta property="og:description" content=" In this post we learn how to publish python packages on PyPi "> <meta property="og:site_name" content="Muhammad Raza"> <meta property="og:locale" content="en_US"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="muhammad_o7"> <meta name="twitter:title" content=" Publishing Packages on PyPi | Muhammad "> <meta name="twitter:description" content=" In this post we learn how to publish python packages on PyPi "> <meta name="twitter:image:src" content="http://localhost:4000"> <!-- Social: Google+ / Schema.org --> <meta itemprop="name" content=" Publishing Packages on PyPi | Muhammad "> <meta itemprop="description" content=" In this post we learn how to publish python packages on PyPi "> <meta itemprop="image" content="http://localhost:4000"> <!-- Canonical link tag --> <link rel="canonical" href="http://localhost:4000/2018/Publishing-Packages-on-PyPi/"> <link rel="alternate" type="application/rss+xml" title="Muhammad" href="http://localhost:4000/feed.xml"> <!-- rel prev and next --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> </head> <body> <main class="wrapper"> <header class="site-header"> <nav class="nav"> <div class="container"> <h1 class="logo"><a href="http://localhost:4000/"><span>Muhammad</span></a></h1> <ul class="navbar"> <li><a href="http://localhost:4000/work">Work</a></li> <li><a href="https://admiring-noyce-b382b7.netlify.app/">KB</a></li> <li><a href="http://localhost:4000/feed.xml" target="_blank">RSS</a></li> </ul> </div> </nav> </header> <article class="post container" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <p class="post-meta"><time datetime="2018-12-12T00:00:00-05:00" itemprop="datePublished">Dec 12, 2018</time></p> <h1 class="post-title" itemprop="name headline">Publishing Packages on PyPi</h1> </header> <div class="post-content" itemprop="articleBody"> <p>As an Intermediate/Beginner Python developer you always wondered how to publish your own python packages so you can share it with your friends and colleagues. In this post I will be walk you through the process of publish your own packages on <a href="https://pypi.org/">PyPi</a>.</p> <h4 id="so-whats-pypi-">So What’s PyPi ?</h4> <p>PyPi is Python Package Index. It’s more like npm or homebrew where you can find different packages such as Flask,Django,Tweepy and much more. Most of the packages are open sourced and PyPi is itself open source and maintained by developers in there free time and that makes PyPi great.</p> <h4 id="lets-begin-writing-our-first-package">Lets begin writing our first Package.</h4> <p>This is going to be a simple python package that will calculate square and cube of a number passed as a commandline arguement.</p> <p>In order to get started we need.</p> <ul> <li>Python installed</li> <li><code class="highlighter-rouge">pip install twine</code> this will allow us to connect to pypi and publish our package.</li> <li><code class="highlighter-rouge">pip install docopt</code> this package will parse our arguements passed as commandline arguements.</li> </ul> <p>Lets begin writing code.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"""calc

Usage:
    calc.py square &lt;num&gt;
    calc.py cube  &lt;num&gt;
    calc.py (-h | --help)

Options:
    -h --help     Show this screen.

"""
from docopt import docopt 


def square(num):
  print(num**2) 

def cube(num):
  print(num**3)


if __name__ == '__main__':                                                                                                                              
  arguments = docopt(__doc__)
  if arguments['square']:
    square(int(arguments['&lt;num&gt;']))
  elif arguments['cube']:
    cube(int(arguments['&lt;num&gt;']))
</code></pre></div></div> <ul> <li>so after writing our simple package we need to create a file named <code class="highlighter-rouge">setup.py</code>. This file will allow us to install package and it is going to be used by PyPi.</li> <li> <p>Furthermore, We need to create a README file that will contain instructions regarding installion and usage of the package.</p> </li> <li>This is how our setup.py file is going to look like and this will contain details regarding our package.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">setuptools</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"README.md"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
    <span class="n">long_description</span> <span class="o">=</span> <span class="n">fh</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">setuptools</span><span class="p">.</span><span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">"Calculator"</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s">"0.0.1"</span><span class="p">,</span>
    <span class="n">author</span><span class="o">=</span><span class="s">"Your Name"</span><span class="p">,</span>
    <span class="n">author_email</span><span class="o">=</span><span class="s">"Your Email"</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s">"Description regarding the package"</span><span class="p">,</span>
    <span class="n">long_description</span><span class="o">=</span><span class="n">long_description</span><span class="p">,</span>
    <span class="n">long_description_content_type</span><span class="o">=</span><span class="s">"text/markdown"</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"Project_url"</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">setuptools</span><span class="p">.</span><span class="n">find_packages</span><span class="p">(),</span>
    <span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
        <span class="s">"Programming Language :: Python :: 3"</span><span class="p">,</span>
        <span class="s">"License :: OSI Approved :: MIT License"</span><span class="p">,</span>
        <span class="s">"Operating System :: OS Independent"</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">)</span>

</code></pre></div></div> <ul> <li>After creating a <code class="highlighter-rouge">setup.py</code> now we will run this command to generate our package <code class="highlighter-rouge">.tar</code> file.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 setup.py sdist

</code></pre></div></div> <ul> <li>This is going to create a folder named <code class="highlighter-rouge">dist/</code> which will contain our package and now we will upload our package using twine.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>twine upload dist/
<span class="c"># This will prompt username and password for pypi</span>
</code></pre></div></div> <h2 id="finally-you-have-published-your-first-pypi-package">Finally you have published your first PyPi Package.</h2> <p>I hope you enjoyed this post if you think i missed any thing feel free to dm me on <a href="https://twitter.com/">twitter</a> Feel to share it among your friends and colleagues.</p> <aside class="share"> <p>If you liked this article and think others should read it, please share it on <a href="http://twitter.com/share?text=Publishing Packages on PyPi&amp;url=http://localhost:4000/2018/Publishing-Packages-on-PyPi/&amp;via=muhammad_o7" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">Twitter</a> or <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2018/Publishing-Packages-on-PyPi/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=235');return false;">Facebook</a>.</p> </aside> </div> </article> <footer class="site-footer"> <div class="container"> <small class="block">&copy; 2020 Muhammad Raza&middot;Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/thinkspace">Thinkspace theme</a></small> </div> </footer> </main> <script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-123408808-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script> </body> </html>
