/**
* Syntax highlighting styles
*/
.highlight {
  margin: 1.25em 0;
  padding: 0;
  background-color: var(--code-bg);
  border-radius: 8px;

  pre {
    margin: 0;
    padding: 0.85em 1em;
    border: none;
    background-color: var(--code-bg);
    color: var(--code-color);
    overflow-x: auto;
    font-size: 0.85em;
    line-height: 1.55;

    code {
      padding: 0;
      background: none;

      * {
        white-space: pre;
      }
    }
  }

  .gutter {
    background-color: var(--code-bg);
    border-right: 1px solid var(--border-color);
    opacity: 0.7;
  }

  // --- Light mode (GitHub-inspired) ---

  .c, .c1, .cm, .cs  { color: #6a737d; font-style: italic } // Comments
  .cp                 { color: #6a737d; font-weight: 600 }   // Preprocessor

  .k, .kd, .kn, .kp,
  .kr, .kc            { color: #d73a49 }                      // Keywords
  .kt                 { color: #6f42c1 }                      // Keyword.Type

  .s, .s1, .s2, .sb,
  .sc, .sd, .sh, .si,
  .sx, .se            { color: #032f62 }                      // Strings
  .sr                 { color: #032f62 }                      // Regex
  .ss                 { color: #0550ae }                      // Symbol

  .m, .mi, .mf,
  .mh, .mo            { color: #005cc5 }                      // Numbers

  .na                 { color: #005cc5 }                      // Name.Attribute
  .nb                 { color: #005cc5 }                      // Name.Builtin
  .nc                 { color: #6f42c1; font-weight: 600 }   // Name.Class
  .nf                 { color: #6f42c1 }                      // Name.Function
  .nn                 { color: #6f42c1 }                      // Name.Namespace
  .no                 { color: #005cc5 }                      // Name.Constant
  .ni                 { color: #24292e }                      // Name.Entity
  .ne                 { color: #d73a49; font-weight: 600 }   // Name.Exception
  .nt                 { color: #22863a }                      // Name.Tag
  .nv                 { color: #e36209 }                      // Name.Variable

  .o, .ow             { color: #d73a49 }                      // Operators

  .gd                 { color: #b31d28; background: #ffeef0 } // Diff deleted
  .gd .x              { color: #b31d28; background: #ffeef0 }
  .gi                 { color: #22863a; background: #f0fff4 } // Diff inserted
  .gi .x              { color: #22863a; background: #f0fff4 }
  .ge                 { font-style: italic }
  .gs                 { font-weight: bold }
  .gh                 { color: #6a737d }
  .gp                 { color: #6a737d }
  .go                 { color: #6a737d }
  .gu                 { color: #6f42c1; font-weight: 600 }
  .gt                 { color: #b31d28 }
  .gr                 { color: #b31d28 }
  .err                { color: #b31d28 }

  .w                  { color: #bbb }

  // --- Dark mode (GitHub Dark) ---
  [data-theme="dark"] & {
    .c, .c1, .cm, .cs  { color: #8b949e }
    .cp                 { color: #8b949e }

    .k, .kd, .kn, .kp,
    .kr, .kc            { color: #ff7b72 }
    .kt                 { color: #d2a8ff }

    .s, .s1, .s2, .sb,
    .sc, .sd, .sh, .si,
    .sx, .se            { color: #a5d6ff }
    .sr                 { color: #a5d6ff }
    .ss                 { color: #79c0ff }

    .m, .mi, .mf,
    .mh, .mo            { color: #79c0ff }

    .na                 { color: #79c0ff }
    .nb                 { color: #79c0ff }
    .nc                 { color: #d2a8ff; font-weight: 600 }
    .nf                 { color: #d2a8ff }
    .nn                 { color: #d2a8ff }
    .no                 { color: #79c0ff }
    .ni                 { color: #c9d1d9 }
    .ne                 { color: #ff7b72; font-weight: 600 }
    .nt                 { color: #7ee787 }
    .nv                 { color: #ffa657 }

    .o, .ow             { color: #ff7b72 }

    .gd                 { color: #ffa198; background: #490202 }
    .gd .x              { color: #ffa198; background: #490202 }
    .gi                 { color: #7ee787; background: #04260f }
    .gi .x              { color: #7ee787; background: #04260f }
    .gu                 { color: #d2a8ff; font-weight: 600 }
    .gt                 { color: #ffa198 }
    .gr                 { color: #ffa198 }
    .err                { color: #ffa198 }
  }
}

// Inline code
code:not([class*="language-"]) {
  background: var(--inline-code-bg);
  color: var(--inline-code-color);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-size: 85%;
}
